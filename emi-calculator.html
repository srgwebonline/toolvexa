<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EMI Calculator - Calculate Loan EMI Online | Toolsedito</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="Free EMI calculator to calculate your loan equated monthly installment (EMI). Calculate home loan, car loan, personal loan EMI with interest rates and tenure." />
  <meta name="keywords" content="emi calculator, loan calculator, home loan calculator, car loan calculator, personal loan calculator, equated monthly installment, loan emi, interest calculator" />
  <meta name="author" content="Toolsedito Team" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://www.toolsedito.com/emi-calculator.html" />

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="EMI Calculator - Calculate Loan EMI Online | Toolsedito">
  <meta property="og:description" content="Free EMI calculator to calculate your loan equated monthly installment (EMI). Calculate home loan, car loan, personal loan EMI with interest rates and tenure.">
  <meta property="og:url" content="https://www.toolsedito.com/emi-calculator.html">
  <meta property="og:image" content="https://www.toolsedito.com/images/emi-calculator-og.jpg">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="EMI Calculator - Toolsedito">
  <meta property="twitter:description" content="Free EMI calculator to calculate your loan equated monthly installment (EMI).">

  <!-- JSON-LD Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "EMI Calculator",
    "description": "Free online tool to calculate Equated Monthly Installment (EMI) for home loans, car loans, personal loans with principal, interest, and tenure.",
    "url": "https://www.toolsedito.com/emi-calculator.html",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "Toolsedito",
      "url": "https://www.toolsedito.com"
    }
  }
  </script>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

  <!-- Add Chart.js for charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #4f46e5;
      --primary-dark: #4338ca;
      --secondary: #10b981;
      --accent: #f59e0b;
      --light: #f8fafc;
      --dark: #1f2933;
      --gray: #6b7280;
      --light-gray: #f3f4f6;
      --card-bg: #ffffff;
      --card-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
      --hover-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      --body-bg: var(--light);
      --text-color: var(--dark);
      --border-color: rgba(0, 0, 0, 0.05);
      --footer-bg: linear-gradient(135deg, #111827, #1f2937);
      --transition-speed: 0.3s;
    }

    /* Dark Theme Variables */
    .dark-theme {
      --light: #121826;
      --dark: #f3f4f6;
      --gray: #9ca3af;
      --light-gray: #1f2937;
      --card-bg: #1a2332;
      --body-bg: #0f172a;
      --text-color: #f3f4f6;
      --border-color: rgba(255, 255, 255, 0.05);
      --card-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      --hover-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      --footer-bg: linear-gradient(135deg, #0f172a, #1e293b);
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--body-bg);
      color: var(--text-color);
      line-height: 1.6;
      overflow-x: hidden;
      transition: background-color var(--transition-speed) ease,
                  color var(--transition-speed) ease;
    }

    h1, h2, h3, h4 {
      font-family: 'Poppins', sans-serif;
      font-weight: 700;
    }

    /* Theme Toggle Button */
    .theme-toggle {
      background: var(--light-gray);
      border: none;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-color);
      font-size: 1.2rem;
      transition: all var(--transition-speed) ease;
      margin-left: 10px;
    }

    .theme-toggle:hover {
      background: var(--primary);
      color: white;
      transform: rotate(15deg);
    }

    /* Mobile First - Sidebar Implementation */
    .navbar {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      z-index: 1000;
      padding: 18px 0;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
      transition: all var(--transition-speed) ease;
    }

    .dark-theme .navbar {
      background: rgba(26, 35, 50, 0.98);
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }

    .nav-logo {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--primary);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .nav-logo i {
      font-size: 1.6rem;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    /* Desktop Navigation - Hidden on Mobile */
    .nav-links {
      display: none;
    }

    /* Mobile Menu Button */
    .mobile-menu-btn {
      display: block;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--text-color);
      cursor: pointer;
      z-index: 1002;
      transition: color var(--transition-speed) ease;
    }

    /* Sidebar Styles */
    .sidebar {
      position: fixed;
      top: 0;
      right: -300px;
      width: 280px;
      height: 100vh;
      background: var(--card-bg);
      box-shadow: -5px 0 25px rgba(0, 0, 0, 0.1);
      z-index: 1001;
      transition: right 0.3s ease-in-out;
      padding: 80px 25px 30px;
      overflow-y: auto;
    }

    .dark-theme .sidebar {
      box-shadow: -5px 0 25px rgba(0, 0, 0, 0.3);
    }

    .sidebar.active {
      right: 0;
    }

    .sidebar-header {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      padding: 20px;
      background: var(--primary);
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .sidebar-header .nav-logo {
      color: white;
      font-size: 1.3rem;
    }

    .sidebar-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
    }

    .sidebar-links {
      list-style: none;
      margin-top: 20px;
    }

    .sidebar-links li {
      margin-bottom: 15px;
    }

    .sidebar-links a {
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--text-color);
      text-decoration: none;
      font-weight: 500;
      padding: 12px 15px;
      border-radius: 8px;
      transition: all var(--transition-speed) ease;
    }

    .sidebar-links a:hover {
      background: var(--light-gray);
      color: var(--primary);
      transform: translateX(5px);
    }

    .sidebar-links a i {
      width: 20px;
      text-align: center;
    }

    .sidebar-links a.active {
      background: var(--primary);
      color: white;
    }

    .sidebar-divider {
      height: 1px;
      background: var(--border-color);
      margin: 20px 0;
    }

    .sidebar-tool-categories {
      margin-top: 20px;
    }

    .sidebar-tool-categories h4 {
      font-size: 0.9rem;
      color: var(--gray);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 15px;
    }

    .sidebar-tools-list {
      list-style: none;
      margin-bottom: 20px;
    }

    .sidebar-tools-list li {
      margin-bottom: 10px;
    }

    .sidebar-tools-list a {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--gray);
      text-decoration: none;
      font-size: 0.9rem;
      padding: 8px 10px;
      border-radius: 6px;
      transition: all var(--transition-speed) ease;
    }

    .sidebar-tools-list a:hover {
      color: var(--primary);
      background: var(--light-gray);
    }

    /* Overlay when sidebar is open */
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .sidebar-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    /* Tool Header - MODIFIED: Reduced top padding to move title higher */
    header {
      background: linear-gradient(135deg, #e6f7ff 0%, #f0f9ff 100%);
      color: #1f2933;
      padding: 80px 20px 40px; /* CHANGED FROM: padding: 120px 20px 60px; */
      text-align: center;
      position: relative;
      overflow: hidden;
      margin-top: 75px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .dark-theme header {
      background: linear-gradient(135deg, #0a1929 0%, #112240 100%);
      color: #f3f4f6;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .header-content {
      max-width: 1000px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
    }

    .tool-logo {
      font-size: 4rem;
      margin-bottom: 10px; /* CHANGED FROM: 15px */
      color: var(--primary);
    }

    .tool-header h1 {
      font-size: 3.5rem;
      margin-bottom: 15px;
      color: var(--text-color);
      background: linear-gradient(90deg, #4f46e5, #7c3aed, #10b981);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: -0.5px;
      line-height: 1.1;
    }

    .tool-header .tagline {
      font-size: 1.4rem;
      margin-bottom: 1.5rem;
      color: var(--dark);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
      font-weight: 400;
    }

    .dark-theme .tool-header .tagline {
      color: #e5e7eb;
    }

    /* Main Tool Container */
    .tool-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    /* Tool Card Sections */
    .tool-card-section {
      background: var(--card-bg);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border-color);
    }

    .tool-card-section h2 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      color: var(--text-color);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .tool-card-section h2 i {
      color: var(--primary);
    }

    /* EMI Calculator Inputs */
    .calculator-inputs {
      display: grid;
      grid-template-columns: 1fr;
      gap: 25px;
      margin-top: 20px;
    }

    @media (min-width: 768px) {
      .calculator-inputs {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-color);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .input-group label i {
      color: var(--primary);
    }

    .input-with-icon {
      position: relative;
    }

    .input-with-icon input {
      width: 100%;
      padding: 14px 16px;
      padding-left: 45px;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      font-size: 1rem;
      background: var(--light-gray);
      color: var(--text-color);
      transition: all 0.3s ease;
    }

    .input-with-icon input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
    }

    .input-icon {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .slider-container {
      margin-top: 15px;
    }

    .slider-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      color: var(--text-color);
    }

    .slider-label span:last-child {
      font-weight: 700;
      color: var(--primary);
    }

    .slider {
      width: 100%;
      height: 8px;
      -webkit-appearance: none;
      appearance: none;
      background: #e0e0e0;
      border-radius: 4px;
      outline: none;
    }

    .dark-theme .slider {
      background: #374151;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      border: 2px solid white;
    }

    .slider::-moz-range-thumb {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
      border: 2px solid white;
    }

    /* Loan Type Presets */
    .loan-presets {
      margin-top: 30px;
    }

    .loan-presets h3 {
      margin-bottom: 15px;
      color: var(--text-color);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .presets-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 15px;
    }

    @media (min-width: 768px) {
      .presets-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }

    .preset-btn {
      padding: 14px 12px;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      cursor: pointer;
      text-align: center;
      font-weight: 500;
      color: var(--text-color);
      transition: all 0.2s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .preset-btn:hover {
      background: var(--light-gray);
    }

    .preset-btn.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .preset-btn i {
      font-size: 1.2rem;
      margin-bottom: 5px;
    }

    /* Action Buttons */
    .action-buttons {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
      margin-top: 30px;
    }

    @media (min-width: 768px) {
      .action-buttons {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .action-btn {
      padding: 16px 20px;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .action-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.4s ease;
      z-index: -1;
    }

    .action-btn:hover {
      transform: translateY(-3px);
    }

    .calculate-btn {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
    }

    .calculate-btn::before {
      background: linear-gradient(135deg, var(--primary-dark), #8b5cf6);
    }

    .calculate-btn:hover::before {
      opacity: 1;
    }

    .reset-btn {
      background: linear-gradient(135deg, var(--secondary), #0da67e);
      color: white;
    }

    .reset-btn::before {
      background: linear-gradient(135deg, #0da67e, #0b9a74);
    }

    .reset-btn:hover::before {
      opacity: 1;
    }

    .share-btn {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      color: white;
    }

    .share-btn::before {
      background: linear-gradient(135deg, #7c3aed, #6d28d9);
    }

    .share-btn:hover::before {
      opacity: 1;
    }

    /* Results Section */
    .results-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 25px;
      margin-top: 20px;
    }

    @media (min-width: 768px) {
      .results-container {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .results-container {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .result-card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 25px;
      text-align: center;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
    }

    .result-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--hover-shadow);
    }

    .result-card.primary {
      border-top: 4px solid var(--primary);
    }

    .result-card.secondary {
      border-top: 4px solid var(--secondary);
    }

    .result-card.accent {
      border-top: 4px solid var(--accent);
    }

    .result-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 15px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
    }

    .result-card h3 {
      font-size: 1.1rem;
      margin-bottom: 10px;
      color: var(--text-color);
    }

    .result-value {
      font-size: 2.2rem;
      font-weight: 800;
      margin-bottom: 5px;
      color: var(--primary);
    }

    .result-label {
      color: var(--gray);
      font-size: 0.9rem;
    }

    /* Chart Section */
    .chart-container {
      margin-top: 30px;
      background: var(--card-bg);
      border-radius: 16px;
      padding: 25px;
      box-shadow: var(--card-shadow);
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .chart-header h3 {
      color: var(--text-color);
      font-size: 1.3rem;
    }

    .chart-toggle {
      display: flex;
      background: var(--light-gray);
      border-radius: 8px;
      padding: 4px;
    }

    .chart-toggle-btn {
      padding: 8px 16px;
      border: none;
      background: transparent;
      color: var(--text-color);
      font-weight: 500;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .chart-toggle-btn.active {
      background: var(--primary);
      color: white;
    }

    .chart-wrapper {
      height: 300px;
      margin-top: 20px;
      position: relative;
    }

    .chart-placeholder {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gray);
      font-size: 1.1rem;
      background: var(--light-gray);
      border-radius: 12px;
      text-align: center;
      padding: 20px;
    }

    .chart-legend {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text-color);
    }

    .legend-color.principal {
      background: var(--primary);
    }

    .legend-color.interest {
      background: var(--secondary);
    }

    /* Amortization Schedule */
    .amortization-container {
      overflow-x: auto;
      margin-top: 20px;
      border-radius: 12px;
      border: 1px solid var(--border-color);
    }

    .amortization-table {
      width: 100%;
      border-collapse: collapse;
      min-width: 600px;
    }

    .amortization-table th {
      background: var(--light-gray);
      color: var(--text-color);
      font-weight: 600;
      text-align: left;
      padding: 15px;
      border-bottom: 1px solid var(--border-color);
    }

    .amortization-table td {
      padding: 12px 15px;
      border-bottom: 1px solid var(--border-color);
      color: var(--text-color);
    }

    .amortization-table tbody tr:hover {
      background: var(--light-gray);
    }

    /* Loan Comparison */
    .comparison-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin-top: 20px;
    }

    @media (min-width: 768px) {
      .comparison-container {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .comparison-card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border-color);
    }

    .comparison-card h4 {
      margin-bottom: 15px;
      color: var(--text-color);
      font-size: 1rem;
    }

    .comparison-value {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--primary);
      margin-bottom: 5px;
    }

    .comparison-label {
      color: var(--gray);
      font-size: 0.9rem;
    }

    /* EEAT About Section */
    .about-section {
      max-width: 800px;
      margin: 40px auto;
      padding: 25px;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: var(--card-shadow);
      border-left: 4px solid var(--primary);
    }

    .about-section h2 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: var(--text-color);
    }

    .about-section p {
      color: var(--gray);
      line-height: 1.7;
      margin-bottom: 15px;
    }

    /* FAQ Section */
    .faq-section {
      margin-top: 60px;
    }

    .faq-section h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 30px;
      color: var(--text-color);
    }

    .faq-container {
      background: var(--card-bg);
      border-radius: 20px;
      padding: 30px;
      box-shadow: var(--card-shadow);
    }

    .faq-item {
      border-bottom: 1px solid var(--border-color);
      padding: 20px 0;
    }

    .faq-item:last-child {
      border-bottom: none;
    }

    .faq-question {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      color: var(--text-color);
      font-size: 1.1rem;
      font-weight: 600;
    }

    .faq-question i {
      color: var(--primary);
      transition: transform 0.3s ease;
    }

    .faq-item.active .faq-question i {
      transform: rotate(180deg);
    }

    .faq-answer {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      color: var(--gray);
      line-height: 1.6;
      padding-right: 40px;
    }

    .faq-item.active .faq-answer {
      max-height: 500px;
      margin-top: 15px;
    }

    /* Related Tools Section */
    .related-tools-section {
      margin: 60px 0 40px;
    }

    .related-tools-section h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 30px;
      color: var(--text-color);
    }

    .related-tools-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 25px;
    }

    @media (min-width: 768px) {
      .related-tools-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .related-tools-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .related-tool-card {
      background: var(--card-bg);
      padding: 25px;
      border-radius: 16px;
      text-align: center;
      box-shadow: var(--card-shadow);
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
    }

    .related-tool-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--hover-shadow);
    }

    .related-tool-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 15px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
    }

    .related-tool-card h3 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: var(--text-color);
    }

    .related-tool-card p {
      color: var(--gray);
      font-size: 0.95rem;
      margin-bottom: 20px;
      line-height: 1.5;
    }

    .related-tool-link {
      display: inline-block;
      padding: 8px 20px;
      background: var(--light-gray);
      color: var(--primary);
      border-radius: 50px;
      font-weight: 600;
      text-decoration: none;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .related-tool-card:hover .related-tool-link {
      background: var(--primary);
      color: white;
    }

    /* Footer */
    footer {
      background: var(--footer-bg);
      color: #9ca3af;
      padding: 50px 20px 30px;
      margin-top: 60px;
      position: relative;
      transition: background var(--transition-speed) ease;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 30px;
    }

    @media (min-width: 768px) {
      .footer-content {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .footer-content {
        grid-template-columns: repeat(4, 1fr);
      }
    }

    .footer-logo {
      font-size: 2rem;
      font-weight: 800;
      color: white;
      margin-bottom: 15px;
      display: inline-block;
      background: linear-gradient(90deg, #fff, #c7d2fe);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .footer-description {
      font-size: 0.95rem;
      line-height: 1.7;
      margin-bottom: 20px;
    }

    .social-links {
      display: flex;
      gap: 12px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .social-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      color: white;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      background: var(--primary);
      transform: translateY(-5px);
    }

    .footer-links h4 {
      color: white;
      font-size: 1.2rem;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
    }

    .footer-links h4::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 3px;
      background: var(--primary);
    }

    .footer-links ul {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 10px;
    }

    .footer-links a {
      color: #9ca3af;
      text-decoration: none;
      transition: all 0.3s ease;
      display: inline-block;
      font-size: 0.95rem;
    }

    .footer-links a:hover {
      color: white;
      transform: translateX(5px);
    }

    .footer-bottom {
      text-align: center;
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      font-size: 0.85rem;
    }

    /* Desktop Navigation Styles */
    @media (min-width: 1024px) {
      .nav-links {
        display: flex;
        gap: 30px;
        list-style: none;
      }

      .nav-links a {
        color: var(--text-color);
        text-decoration: none;
        font-weight: 500;
        transition: color var(--transition-speed) ease;
        position: relative;
      }

      .nav-links a:hover {
        color: var(--primary);
      }

      .nav-links a::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--primary);
        transition: width 0.3s;
      }

      .nav-links a:hover::after {
        width: 100%;
      }

      .mobile-menu-btn {
        display: none;
      }

      .sidebar {
        display: none;
      }

      .sidebar-overlay {
        display: none;
      }
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      header {
        padding: 60px 20px 30px;
        margin-top: 70px;
      }
      
      .tool-header h1 {
        font-size: 2.8rem;
      }
      
      .tool-header .tagline {
        font-size: 1.2rem;
      }
      
      .tool-card-section {
        padding: 20px;
      }
      
      .faq-container {
        padding: 20px;
      }
      
      .faq-answer {
        padding-right: 20px;
      }
      
      .result-value {
        font-size: 1.8rem;
      }
    }

    /* Large Desktop Styles */
    @media (min-width: 1200px) {
      .tool-container {
        padding: 60px 20px;
      }
      
      .tool-header h1 {
        font-size: 4rem;
      }
    }
  </style>
</head>

<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">
        <i class="fas fa-tools"></i> Toolsedito
      </a>
      
      <!-- Desktop Navigation -->
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="index.html#tools">Tools</a></li>
        <li><a href="index.html#finance-tools">Finance Tools</a></li>
        <li><a href="#faq">FAQ</a></li>
        <li><a href="#privacy">Privacy</a></li>
        <li><a href="#about">About</a></li>
      </ul>
      
      <div style="display: flex; align-items: center;">
        <!-- Theme Toggle Button -->
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
          <i class="fas fa-moon"></i>
          <i class="fas fa-sun"></i>
        </button>
        
        <!-- Mobile Menu Button -->
        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Mobile Sidebar -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="index.html" class="nav-logo">
        <i class="fas fa-tools"></i> Toolsedito
      </a>
      <button class="sidebar-close" id="sidebarClose">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <ul class="sidebar-links">
      <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
      <li><a href="index.html#tools"><i class="fas fa-tools"></i> All Tools</a></li>
      <li><a href="index.html#finance-tools"><i class="fas fa-chart-line"></i> Finance Tools</a></li>
      <li><a href="#faq"><i class="fas fa-question-circle"></i> FAQ</a></li>
      <li><a href="#privacy"><i class="fas fa-shield-alt"></i> Privacy</a></li>
      <li>
        <a href="#" id="sidebarThemeToggle">
          <i class="fas fa-moon"></i> Dark Mode
          <span id="themeStatus" style="margin-left: auto; font-size: 0.8rem; opacity: 0.7;">OFF</span>
        </a>
      </li>
    </ul>
    
    <div class="sidebar-divider"></div>
    
    <div class="sidebar-tool-categories">
      <h4>Quick Finance Tools</h4>
      <ul class="sidebar-tools-list">
        <li><a href="emi-calculator.html" class="active"><i class="fas fa-calculator"></i> EMI Calculator</a></li>
        <li><a href="interest-calculator.html"><i class="fas fa-percentage"></i> Interest Calculator</a></li>
        <li><a href="loan-calculator.html"><i class="fas fa-hand-holding-usd"></i> Loan Calculator</a></li>
        <li><a href="investment-calculator.html"><i class="fas fa-chart-line"></i> Investment Calculator</a></li>
        <li><a href="currency-converter.html"><i class="fas fa-money-bill-wave"></i> Currency Converter</a></li>
      </ul>
    </div>
  </div>

  <!-- Tool Header -->
  <header>
    <div class="header-content">
      <div class="tool-header">
        <div class="tool-logo">
          <i class="fas fa-calculator"></i>
        </div>
        
        <h1>EMI Calculator</h1>
        <p class="tagline">Calculate your Equated Monthly Installment (EMI) for home loan, car loan, personal loan with interest rates and tenure.</p>
      </div>
    </div>
  </header>

  <!-- Main Tool Container -->
  <div class="tool-container">
    <!-- Calculator Section -->
    <div class="tool-card-section">
      <h2><i class="fas fa-sliders-h"></i> Loan Details</h2>
      
      <div class="calculator-inputs">
        <div class="input-group">
          <label for="loanAmount"><i class="fas fa-money-bill-wave"></i> Loan Amount</label>
          <div class="input-with-icon">
            <input type="number" id="loanAmount" min="1000" max="100000000" step="1000" value="500000" placeholder="Enter loan amount">
            <div class="input-icon">₹</div>
          </div>
          <div class="slider-container">
            <div class="slider-label">
              <span>₹10,000</span>
              <span id="loanAmountValue">₹5,00,000</span>
              <span>₹1 Crore</span>
            </div>
            <input type="range" min="10000" max="10000000" value="500000" step="1000" class="slider" id="loanAmountSlider">
          </div>
        </div>
        
        <div class="input-group">
          <label for="interestRate"><i class="fas fa-percentage"></i> Interest Rate (% per year)</label>
          <div class="input-with-icon">
            <input type="number" id="interestRate" min="1" max="30" step="0.1" value="8.5" placeholder="Enter interest rate">
            <div class="input-icon">%</div>
          </div>
          <div class="slider-container">
            <div class="slider-label">
              <span>1%</span>
              <span id="interestRateValue">8.5%</span>
              <span>30%</span>
            </div>
            <input type="range" min="1" max="30" value="8.5" step="0.1" class="slider" id="interestRateSlider">
          </div>
        </div>
        
        <div class="input-group">
          <label for="loanTenure"><i class="fas fa-calendar-alt"></i> Loan Tenure (Years)</label>
          <div class="input-with-icon">
            <input type="number" id="loanTenure" min="1" max="30" step="1" value="20" placeholder="Enter tenure in years">
            <div class="input-icon"><i class="fas fa-clock"></i></div>
          </div>
          <div class="slider-container">
            <div class="slider-label">
              <span>1 Year</span>
              <span id="loanTenureValue">20 Years</span>
              <span>30 Years</span>
            </div>
            <input type="range" min="1" max="30" value="20" step="1" class="slider" id="loanTenureSlider">
          </div>
        </div>
      </div>
      
      <!-- Loan Type Presets -->
      <div class="loan-presets">
        <h3><i class="fas fa-home"></i> Quick Loan Presets</h3>
        <div class="presets-grid">
          <div class="preset-btn active" data-amount="500000" data-interest="8.5" data-tenure="20">
            <i class="fas fa-home"></i>
            <span>Home Loan</span>
          </div>
          <div class="preset-btn" data-amount="800000" data-interest="9.5" data-tenure="7">
            <i class="fas fa-car"></i>
            <span>Car Loan</span>
          </div>
          <div class="preset-btn" data-amount="300000" data-interest="12" data-tenure="5">
            <i class="fas fa-user"></i>
            <span>Personal Loan</span>
          </div>
          <div class="preset-btn" data-amount="1000000" data-interest="7.5" data-tenure="15">
            <i class="fas fa-graduation-cap"></i>
            <span>Education Loan</span>
          </div>
        </div>
      </div>
      
      <div class="action-buttons">
        <button class="action-btn calculate-btn" id="calculateBtn">
          <i class="fas fa-calculator"></i> Calculate EMI
        </button>
        <button class="action-btn reset-btn" id="resetBtn">
          <i class="fas fa-redo"></i> Reset
        </button>
        <button class="action-btn share-btn" id="shareBtn">
          <i class="fas fa-share-alt"></i> Share Results
        </button>
      </div>
    </div>

    <!-- Results Section -->
    <div class="tool-card-section" id="resultsSection" style="display: none;">
      <h2><i class="fas fa-chart-bar"></i> EMI Calculation Results</h2>
      
      <div class="results-container">
        <div class="result-card primary">
          <div class="result-icon">
            <i class="fas fa-rupee-sign"></i>
          </div>
          <h3>Monthly EMI</h3>
          <div class="result-value" id="monthlyEMI">₹0</div>
          <div class="result-label">Equated Monthly Installment</div>
        </div>
        
        <div class="result-card secondary">
          <div class="result-icon">
            <i class="fas fa-hand-holding-usd"></i>
          </div>
          <h3>Total Interest</h3>
          <div class="result-value" id="totalInterest">₹0</div>
          <div class="result-label">Interest Payable</div>
        </div>
        
        <div class="result-card accent">
          <div class="result-icon">
            <i class="fas fa-money-check-alt"></i>
          </div>
          <h3>Total Payment</h3>
          <div class="result-value" id="totalPayment">₹0</div>
          <div class="result-label">Principal + Interest</div>
        </div>
      </div>
      
      <!-- Chart Section -->
      <div class="chart-container">
        <div class="chart-header">
          <h3>Payment Breakdown</h3>
          <div class="chart-toggle">
            <button class="chart-toggle-btn active" data-chart="pie">Pie Chart</button>
            <button class="chart-toggle-btn" data-chart="bar">Bar Chart</button>
          </div>
        </div>
        
        <div class="chart-wrapper">
          <div class="chart-placeholder" id="chartPlaceholder">
            <div>
              <i class="fas fa-chart-pie" style="font-size: 3rem; margin-bottom: 15px; color: var(--primary);"></i>
              <p>Your payment breakdown chart will appear here after calculation.</p>
              <p style="font-size: 0.9rem; margin-top: 10px;">Click "Calculate EMI" to see visualization.</p>
            </div>
          </div>
          <canvas id="emiChart" style="display: none;"></canvas>
        </div>
        
        <div class="chart-legend">
          <div class="legend-item">
            <div class="legend-color principal"></div>
            <span>Principal Amount</span>
          </div>
          <div class="legend-item">
            <div class="legend-color interest"></div>
            <span>Interest Amount</span>
          </div>
        </div>
      </div>
      
      <!-- Loan Comparison -->
      <div style="margin-top: 30px;">
        <h3 style="margin-bottom: 20px;"><i class="fas fa-balance-scale"></i> Loan Comparison</h3>
        <div class="comparison-container">
          <div class="comparison-card">
            <h4>With ₹1 Lakh Extra Payment</h4>
            <div class="comparison-value" id="extraPaymentEMI">₹0</div>
            <div class="comparison-label">Monthly EMI</div>
            <div style="margin-top: 10px; font-size: 0.9rem; color: var(--secondary);">
              <i class="fas fa-save"></i> Save <span id="extraPaymentSave">₹0</span> interest
            </div>
          </div>
          
          <div class="comparison-card">
            <h4>With 1 Year Less Tenure</h4>
            <div class="comparison-value" id="lessTenureEMI">₹0</div>
            <div class="comparison-label">Monthly EMI</div>
            <div style="margin-top: 10px; font-size: 0.9rem; color: var(--secondary);">
              <i class="fas fa-save"></i> Save <span id="lessTenureSave">₹0</span> interest
            </div>
          </div>
          
          <div class="comparison-card">
            <h4>With 1% Less Interest</h4>
            <div class="comparison-value" id="lessInterestEMI">₹0</div>
            <div class="comparison-label">Monthly EMI</div>
            <div style="margin-top: 10px; font-size: 0.9rem; color: var(--secondary);">
              <i class="fas fa-save"></i> Save <span id="lessInterestSave">₹0</span> interest
            </div>
          </div>
        </div>
      </div>
      
      <!-- Amortization Schedule -->
      <div style="margin-top: 40px;">
        <h3 style="margin-bottom: 20px;"><i class="fas fa-table"></i> Amortization Schedule (First 12 Months)</h3>
        <div class="amortization-container">
          <table class="amortization-table">
            <thead>
              <tr>
                <th>Month</th>
                <th>EMI</th>
                <th>Principal</th>
                <th>Interest</th>
                <th>Balance</th>
              </tr>
            </thead>
            <tbody id="amortizationBody">
              <!-- Amortization rows will be inserted here -->
            </tbody>
          </table>
        </div>
        <p style="text-align: center; margin-top: 15px; color: var(--gray); font-size: 0.9rem;">
          Showing first 12 months of the loan. Total tenure: <span id="totalMonths">0</span> months.
        </p>
      </div>
    </div>

    <!-- EEAT About Section -->
    <div class="about-section" id="about">
      <h2>About This EMI Calculator Tool</h2>
      <p>Our EMI Calculator is designed by finance professionals to help you make informed decisions about your loans. Whether you're planning to buy a home, car, or need a personal loan, this tool provides accurate calculations instantly.</p>
      <p>This calculator uses the standard EMI formula: EMI = [P x R x (1+R)^N]/[(1+R)^N-1], where P is the principal loan amount, R is the monthly interest rate, and N is the number of monthly installments.</p>
      <p>Key features of our EMI Calculator:</p>
      <ul style="margin-left: 20px; margin-bottom: 15px; color: var(--gray);">
        <li>Accurate EMI calculation for any type of loan</li>
        <li>Visual breakdown of principal vs interest payments</li>
        <li>Amortization schedule for the entire loan tenure</li>
        <li>Comparison tools to optimize your loan</li>
        <li>100% private - no data leaves your browser</li>
      </ul>
      <p>Use this tool to plan your finances better, compare loan options, and understand the true cost of borrowing before you commit to any loan.</p>
    </div>

    <!-- FAQ Section -->
    <div class="faq-section" id="faq">
      <h2>Frequently Asked Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <div class="faq-question">
            <span>What is EMI?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>EMI stands for Equated Monthly Installment. It's the fixed payment amount made by a borrower to a lender at a specified date each calendar month. EMIs are used to pay off both interest and principal each month, so that over a specified number of years, the loan is paid off in full.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>How is EMI calculated?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>EMI is calculated using the formula: EMI = [P x R x (1+R)^N]/[(1+R)^N-1], where P is the principal loan amount, R is the monthly interest rate (annual rate divided by 12), and N is the number of monthly installments (loan tenure in years multiplied by 12).</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>Does EMI include both principal and interest?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Yes, each EMI payment consists of both principal and interest components. In the initial years of a loan, a larger portion of the EMI goes toward paying the interest. As the loan matures, the principal component increases while the interest component decreases.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>What factors affect my EMI amount?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Three main factors affect your EMI amount: 1) Loan Amount: Higher the loan amount, higher the EMI. 2) Interest Rate: Higher interest rate increases EMI. 3) Loan Tenure: Longer tenure reduces EMI but increases total interest paid.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>Can I reduce my EMI amount?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Yes, you can reduce your EMI by: 1) Increasing the loan tenure (but this increases total interest), 2) Making a larger down payment to reduce the principal amount, 3) Negotiating a lower interest rate with your lender, or 4) Making part-prepayments when possible.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">
            <span>What is an amortization schedule?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>An amortization schedule is a table that shows the breakdown of each EMI payment into principal and interest components. It also shows the outstanding loan balance after each payment. This helps borrowers understand how much of their payment is reducing the principal vs. paying interest.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Related Tools Section -->
    <div class="related-tools-section">
      <h2>Other Useful Finance Tools</h2>
      <div class="related-tools-grid">
        <div class="related-tool-card">
          <div class="related-tool-icon">
            <i class="fas fa-percentage"></i>
          </div>
          <h3>Interest Calculator</h3>
          <p>Calculate simple and compound interest on loans, investments, and savings with different compounding periods.</p>
          <a href="interest-calculator.html" class="related-tool-link">Use Tool</a>
        </div>
        
        <div class="related-tool-card">
          <div class="related-tool-icon">
            <i class="fas fa-hand-holding-usd"></i>
          </div>
          <h3>Loan Calculator</h3>
          <p>Calculate loan payments, compare different loan options, and determine affordability based on your income.</p>
          <a href="loan-calculator.html" class="related-tool-link">Use Tool</a>
        </div>
        
        <div class="related-tool-card">
          <div class="related-tool-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h3>Investment Calculator</h3>
          <p>Calculate returns on investments, plan for retirement, and compare different investment strategies.</p>
          <a href="investment-calculator.html" class="related-tool-link">Use Tool</a>
        </div>
        
        <div class="related-tool-card">
          <div class="related-tool-icon">
            <i class="fas fa-money-bill-wave"></i>
          </div>
          <h3>Currency Converter</h3>
          <p>Convert between different currencies with live exchange rates and historical conversion charts.</p>
          <a href="currency-converter.html" class="related-tool-link">Use Tool</a>
        </div>
        
        <div class="related-tool-card">
          <div class="related-tool-icon">
            <i class="fas fa-file-invoice-dollar"></i>
          </div>
          <h3>Tax Calculator</h3>
          <p>Calculate income tax, deductions, and tax liability based on your income and applicable tax slabs.</p>
          <a href="tax-calculator.html" class="related-tool-link">Use Tool</a>
        </div>
        
        <div class="related-tool-card">
          <div class="related-tool-icon">
            <i class="fas fa-piggy-bank"></i>
          </div>
          <h3>Savings Calculator</h3>
          <p>Plan your savings goals, calculate required monthly savings, and track progress toward financial targets.</p>
          <a href="savings-calculator.html" class="related-tool-link">Use Tool</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer id="privacy">
    <div class="footer-content">
      <div class="footer-about">
        <h3 class="footer-logo">Toolsedito</h3>
        <p class="footer-description">Toolsedito provides smart online tools for everyday productivity. Our EMI Calculator is 100% free, accurate, and processes all calculations locally in your browser.</p>
        <div class="social-links">
          <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
          <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
          <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
          <a href="#" class="social-link"><i class="fab fa-github"></i></a>
        </div>
      </div>
      
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#tools">All Tools</a></li>
          <li><a href="index.html#finance-tools">Finance Tools</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#about">About This Tool</a></li>
        </ul>
      </div>
      
      <div class="footer-links">
        <h4>Finance Tools</h4>
        <ul>
          <li><a href="emi-calculator.html">EMI Calculator</a></li>
          <li><a href="interest-calculator.html">Interest Calculator</a></li>
          <li><a href="loan-calculator.html">Loan Calculator</a></li>
          <li><a href="investment-calculator.html">Investment Calculator</a></li>
          <li><a href="currency-converter.html">Currency Converter</a></li>
        </ul>
      </div>
      
      <div class="footer-links">
        <h4>Legal</h4>
        <ul>
          <li><a href="privacy-policy.html">Privacy Policy</a></li>
          <li><a href="terms-of-service.html">Terms of Service</a></li>
          <li><a href="disclaimer.html">Disclaimer</a></li>
          <li><a href="cookie-policy.html">Cookie Policy</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2026 Toolsedito. All rights reserved. | EMI Calculator Tool v2.0 | All calculations happen locally in your browser. No data is uploaded to any server.</p>
      <p style="margin-top: 10px; color: #9ca3af;">Made with <i class="fas fa-heart" style="color: #ef4444;"></i> for financial planning worldwide</p>
    </div>
  </footer>

  <script>
    // Dark Theme Toggle
    const themeToggle = document.getElementById('themeToggle');
    const sidebarThemeToggle = document.getElementById('sidebarThemeToggle');
    const themeStatus = document.getElementById('themeStatus');
    const body = document.body;
    
    // Check for saved theme preference or prefer-color-scheme
    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    const savedTheme = localStorage.getItem('theme');
    
    // Set initial theme
    if (savedTheme === 'dark' || (!savedTheme && prefersDarkScheme.matches)) {
      body.classList.add('dark-theme');
      updateThemeStatus(true);
    } else {
      updateThemeStatus(false);
    }
    
    // Main theme toggle function
    function toggleTheme() {
      const isDark = body.classList.toggle('dark-theme');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      updateThemeStatus(isDark);
      
      // Add animation to the toggle button
      themeToggle.style.transform = 'rotate(360deg)';
      setTimeout(() => {
        themeToggle.style.transform = '';
      }, 300);
    }
    
    // Update theme status text and icon
    function updateThemeStatus(isDark) {
      if (themeStatus) {
        themeStatus.textContent = isDark ? 'ON' : 'OFF';
      }
    }
    
    // Event listeners for theme toggles
    themeToggle.addEventListener('click', toggleTheme);
    
    if (sidebarThemeToggle) {
      sidebarThemeToggle.addEventListener('click', function(e) {
        e.preventDefault();
        toggleTheme();
      });
    }
    
    // Mobile Sidebar Functionality
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const sidebar = document.getElementById('sidebar');
    const sidebarClose = document.getElementById('sidebarClose');
    const sidebarOverlay = document.getElementById('sidebarOverlay');
    
    // Open sidebar
    mobileMenuBtn.addEventListener('click', () => {
      sidebar.classList.add('active');
      sidebarOverlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });
    
    // Close sidebar
    function closeSidebar() {
      sidebar.classList.remove('active');
      sidebarOverlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    }
    
    sidebarClose.addEventListener('click', closeSidebar);
    sidebarOverlay.addEventListener('click', closeSidebar);
    
    // Close sidebar when clicking on a link (for mobile)
    document.querySelectorAll('.sidebar-links a').forEach(link => {
      link.addEventListener('click', function(e) {
        if (!this.id.includes('Theme')) { // Don't close for theme toggle
          closeSidebar();
        }
      });
    });
    
    // Add smooth scrolling to all links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        if(targetId === '#') return;
        
        const targetElement = document.querySelector(targetId);
        if(targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
          
          // Close sidebar on mobile after clicking
          if (window.innerWidth < 1024) {
            closeSidebar();
          }
        }
      });
    });

    // EMI Calculator JavaScript
    // DOM Elements
    const loanAmountInput = document.getElementById('loanAmount');
    const loanAmountSlider = document.getElementById('loanAmountSlider');
    const loanAmountValue = document.getElementById('loanAmountValue');
    
    const interestRateInput = document.getElementById('interestRate');
    const interestRateSlider = document.getElementById('interestRateSlider');
    const interestRateValue = document.getElementById('interestRateValue');
    
    const loanTenureInput = document.getElementById('loanTenure');
    const loanTenureSlider = document.getElementById('loanTenureSlider');
    const loanTenureValue = document.getElementById('loanTenureValue');
    
    const presetButtons = document.querySelectorAll('.preset-btn');
    const calculateBtn = document.getElementById('calculateBtn');
    const resetBtn = document.getElementById('resetBtn');
    const shareBtn = document.getElementById('shareBtn');
    
    const resultsSection = document.getElementById('resultsSection');
    const monthlyEMI = document.getElementById('monthlyEMI');
    const totalInterest = document.getElementById('totalInterest');
    const totalPayment = document.getElementById('totalPayment');
    
    const chartPlaceholder = document.getElementById('chartPlaceholder');
    const emiChartCanvas = document.getElementById('emiChart');
    const chartToggleBtns = document.querySelectorAll('.chart-toggle-btn');
    
    const extraPaymentEMI = document.getElementById('extraPaymentEMI');
    const extraPaymentSave = document.getElementById('extraPaymentSave');
    const lessTenureEMI = document.getElementById('lessTenureEMI');
    const lessTenureSave = document.getElementById('lessTenureSave');
    const lessInterestEMI = document.getElementById('lessInterestEMI');
    const lessInterestSave = document.getElementById('lessInterestSave');
    
    const amortizationBody = document.getElementById('amortizationBody');
    const totalMonths = document.getElementById('totalMonths');
    
    // Chart variables
    let emiChart = null;
    
    // Format currency
    function formatCurrency(amount) {
      return '₹' + amount.toLocaleString('en-IN', {
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
      });
    }
    
    // Update slider values
    function updateLoanAmount() {
      const value = parseInt(loanAmountInput.value);
      loanAmountSlider.value = value;
      loanAmountValue.textContent = formatCurrency(value);
    }
    
    function updateInterestRate() {
      const value = parseFloat(interestRateInput.value);
      interestRateSlider.value = value;
      interestRateValue.textContent = `${value.toFixed(1)}%`;
    }
    
    function updateLoanTenure() {
      const value = parseInt(loanTenureInput.value);
      loanTenureSlider.value = value;
      loanTenureValue.textContent = `${value} Years`;
    }
    
    // Calculate EMI using correct formula
    function calculateEMI(principal, annualRate, years) {
      const monthlyRate = annualRate / 12 / 100;
      const months = years * 12;
      
      // Handle zero interest rate
      if (monthlyRate === 0) {
        return principal / months;
      }
      
      // EMI formula: P * r * (1+r)^n / ((1+r)^n - 1)
      const emi = principal * monthlyRate * Math.pow(1 + monthlyRate, months) / 
                 (Math.pow(1 + monthlyRate, months) - 1);
      
      return emi;
    }
    
    // Calculate amortization schedule
    function calculateAmortization(principal, annualRate, years, emi) {
      const monthlyRate = annualRate / 12 / 100;
      const months = years * 12;
      let balance = principal;
      const schedule = [];
      
      for (let month = 1; month <= months; month++) {
        const interest = balance * monthlyRate;
        const principalPaid = emi - interest;
        balance -= principalPaid;
        
        // Handle floating point precision
        if (balance < 0.01) balance = 0;
        
        schedule.push({
          month,
          emi,
          principal: principalPaid,
          interest,
          balance
        });
        
        if (balance === 0) break;
      }
      
      return schedule;
    }
    
    // Generate chart
    function generateChart(principal, totalInterestPaid, chartType = 'pie') {
      const ctx = emiChartCanvas.getContext('2d');
      
      // Destroy existing chart
      if (emiChart) {
        emiChart.destroy();
      }
      
      // Show canvas, hide placeholder
      chartPlaceholder.style.display = 'none';
      emiChartCanvas.style.display = 'block';
      
      if (chartType === 'pie') {
        emiChart = new Chart(ctx, {
          type: 'pie',
          data: {
            labels: ['Principal Amount', 'Total Interest'],
            datasets: [{
              data: [principal, totalInterestPaid],
              backgroundColor: [getComputedStyle(document.documentElement).getPropertyValue('--primary').trim(), 
                               getComputedStyle(document.documentElement).getPropertyValue('--secondary').trim()],
              borderWidth: 1
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    let label = context.label || '';
                    if (label) {
                      label += ': ';
                    }
                    label += formatCurrency(context.raw);
                    return label;
                  }
                }
              }
            }
          }
        });
      } else {
        // Bar chart
        emiChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Principal Amount', 'Total Interest', 'Total Payment'],
            datasets: [{
              label: 'Amount',
              data: [principal, totalInterestPaid, principal + totalInterestPaid],
              backgroundColor: [getComputedStyle(document.documentElement).getPropertyValue('--primary').trim(), 
                               getComputedStyle(document.documentElement).getPropertyValue('--secondary').trim(),
                               getComputedStyle(document.documentElement).getPropertyValue('--accent').trim()],
              borderWidth: 1
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  callback: function(value) {
                    return formatCurrency(value);
                  }
                }
              }
            },
            plugins: {
              legend: {
                display: false
              },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return formatCurrency(context.raw);
                  }
                }
              }
            }
          }
        });
      }
    }
    
    // Calculate and display results WITHOUT AUTO-SCROLL
    function calculateAndDisplay(shouldScroll = false) {
      const principal = parseFloat(loanAmountInput.value);
      const annualRate = parseFloat(interestRateInput.value);
      const years = parseFloat(loanTenureInput.value);
      
      // Validate inputs
      if (isNaN(principal) || principal <= 0) {
        alert('Please enter a valid loan amount.');
        return;
      }
      if (isNaN(annualRate) || annualRate <= 0) {
        alert('Please enter a valid interest rate.');
        return;
      }
      if (isNaN(years) || years <= 0) {
        alert('Please enter a valid loan tenure.');
        return;
      }
      
      // Calculate EMI
      const emi = calculateEMI(principal, annualRate, years);
      const months = years * 12;
      const totalPaymentAmount = emi * months;
      const totalInterestPaid = totalPaymentAmount - principal;
      
      // Update results
      monthlyEMI.textContent = formatCurrency(Math.round(emi));
      totalInterest.textContent = formatCurrency(Math.round(totalInterestPaid));
      totalPayment.textContent = formatCurrency(Math.round(totalPaymentAmount));
      
      // Generate chart
      generateChart(principal, totalInterestPaid, 'pie');
      
      // Calculate comparison scenarios
      // 1. With ₹1 Lakh extra payment
      const extraPrincipal = Math.max(0, principal - 100000);
      const extraEMI = extraPrincipal > 0 ? calculateEMI(extraPrincipal, annualRate, years) : 0;
      const extraTotalPayment = extraEMI * months;
      const extraInterestSaved = Math.max(0, totalInterestPaid - (extraTotalPayment - extraPrincipal));
      
      extraPaymentEMI.textContent = formatCurrency(Math.round(extraEMI));
      extraPaymentSave.textContent = formatCurrency(Math.round(extraInterestSaved));
      
      // 2. With 1 year less tenure (minimum 1 year)
      const lessTenureYears = Math.max(1, years - 1);
      const lessTenureEMIAmount = calculateEMI(principal, annualRate, lessTenureYears);
      const lessTenureMonths = lessTenureYears * 12;
      const lessTenureTotalPayment = lessTenureEMIAmount * lessTenureMonths;
      const lessTenureInterestSaved = Math.max(0, totalInterestPaid - (lessTenureTotalPayment - principal));
      
      lessTenureEMI.textContent = formatCurrency(Math.round(lessTenureEMIAmount));
      lessTenureSave.textContent = formatCurrency(Math.round(lessTenureInterestSaved));
      
      // 3. With 1% less interest (minimum 0.1%)
      const lessInterestRate = Math.max(0.1, annualRate - 1);
      const lessInterestEMIAmount = calculateEMI(principal, lessInterestRate, years);
      const lessInterestTotalPayment = lessInterestEMIAmount * months;
      const lessInterestInterestSaved = Math.max(0, totalInterestPaid - (lessInterestTotalPayment - principal));
      
      lessInterestEMI.textContent = formatCurrency(Math.round(lessInterestEMIAmount));
      lessInterestSave.textContent = formatCurrency(Math.round(lessInterestInterestSaved));
      
      // Generate amortization schedule (first 12 months)
      const amortizationSchedule = calculateAmortization(principal, annualRate, years, emi);
      totalMonths.textContent = months;
      
      // Clear existing rows
      amortizationBody.innerHTML = '';
      
      // Add rows for first 12 months or less if loan tenure is shorter
      const displayMonths = Math.min(12, amortizationSchedule.length);
      
      for (let i = 0; i < displayMonths; i++) {
        const row = amortizationSchedule[i];
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${row.month}</td>
          <td>${formatCurrency(Math.round(row.emi))}</td>
          <td>${formatCurrency(Math.round(row.principal))}</td>
          <td>${formatCurrency(Math.round(row.interest))}</td>
          <td>${formatCurrency(Math.round(row.balance))}</td>
        `;
        amortizationBody.appendChild(tr);
      }
      
      // Show results section
      resultsSection.style.display = 'block';
      
      // Only scroll to results if explicitly requested (user clicked calculate)
      if (shouldScroll) {
        setTimeout(() => {
          resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      }
    }
    
    // Reset calculator
    function resetCalculator() {
      loanAmountInput.value = 500000;
      interestRateInput.value = 8.5;
      loanTenureInput.value = 20;
      
      updateLoanAmount();
      updateInterestRate();
      updateLoanTenure();
      
      // Reset preset buttons
      presetButtons.forEach(btn => btn.classList.remove('active'));
      presetButtons[0].classList.add('active');
      
      // Hide results
      resultsSection.style.display = 'none';
      
      // Reset chart
      if (emiChart) {
        emiChart.destroy();
        emiChart = null;
      }
      chartPlaceholder.style.display = 'flex';
      emiChartCanvas.style.display = 'none';
    }
    
    // Share results
    function shareResults() {
      const principal = parseFloat(loanAmountInput.value);
      const annualRate = parseFloat(interestRateInput.value);
      const years = parseFloat(loanTenureInput.value);
      
      const emi = calculateEMI(principal, annualRate, years);
      const months = years * 12;
      const totalPaymentAmount = emi * months;
      const totalInterestPaid = totalPaymentAmount - principal;
      
      const shareText = `EMI Calculation Results:\n` +
                       `Loan Amount: ${formatCurrency(principal)}\n` +
                       `Interest Rate: ${annualRate}% p.a.\n` +
                       `Loan Tenure: ${years} years\n` +
                       `Monthly EMI: ${formatCurrency(Math.round(emi))}\n` +
                       `Total Interest: ${formatCurrency(Math.round(totalInterestPaid))}\n` +
                       `Total Payment: ${formatCurrency(Math.round(totalPaymentAmount))}\n` +
                       `Calculate your EMI at: Toolsedito EMI Calculator`;
      
      if (navigator.share) {
        navigator.share({
          title: 'EMI Calculation Results',
          text: shareText,
          url: window.location.href
        }).catch(err => {
          console.log('Error sharing:', err);
          copyToClipboard(shareText);
        });
      } else {
        copyToClipboard(shareText);
      }
    }
    
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert('Results copied to clipboard! You can paste them anywhere.');
      }).catch(err => {
        console.error('Failed to copy:', err);
        alert('Failed to copy results. Please try again.');
      });
    }
    
    // Event Listeners
    loanAmountInput.addEventListener('input', updateLoanAmount);
    loanAmountSlider.addEventListener('input', function() {
      loanAmountInput.value = this.value;
      updateLoanAmount();
    });
    
    interestRateInput.addEventListener('input', updateInterestRate);
    interestRateSlider.addEventListener('input', function() {
      interestRateInput.value = this.value;
      updateInterestRate();
    });
    
    loanTenureInput.addEventListener('input', updateLoanTenure);
    loanTenureSlider.addEventListener('input', function() {
      loanTenureInput.value = this.value;
      updateLoanTenure();
    });
    
    // Preset buttons
    presetButtons.forEach(btn => {
      btn.addEventListener('click', function() {
        presetButtons.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        const amount = this.getAttribute('data-amount');
        const interest = this.getAttribute('data-interest');
        const tenure = this.getAttribute('data-tenure');
        
        loanAmountInput.value = amount;
        interestRateInput.value = interest;
        loanTenureInput.value = tenure;
        
        updateLoanAmount();
        updateInterestRate();
        updateLoanTenure();
        
        // Auto calculate when preset is selected WITHOUT auto-scroll
        calculateAndDisplay(false);
      });
    });
    
    // Action buttons
    calculateBtn.addEventListener('click', function() {
      calculateAndDisplay(true); // Pass true to scroll to results
    });
    
    resetBtn.addEventListener('click', resetCalculator);
    shareBtn.addEventListener('click', shareResults);
    
    // Chart toggle buttons
    chartToggleBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        chartToggleBtns.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        const chartType = this.getAttribute('data-chart');
        
        // Regenerate chart with new type if results are displayed
        if (resultsSection.style.display !== 'none') {
          const principal = parseFloat(loanAmountInput.value);
          const annualRate = parseFloat(interestRateInput.value);
          const years = parseFloat(loanTenureInput.value);
          
          const emi = calculateEMI(principal, annualRate, years);
          const months = years * 12;
          const totalPaymentAmount = emi * months;
          const totalInterestPaid = totalPaymentAmount - principal;
          
          generateChart(principal, totalInterestPaid, chartType);
        }
      });
    });
    
    // FAQ functionality
    document.querySelectorAll('.faq-question').forEach(question => {
      question.addEventListener('click', () => {
        const item = question.parentElement;
        item.classList.toggle('active');
      });
    });
    
    // Initialize
    updateLoanAmount();
    updateInterestRate();
    updateLoanTenure();
    
    // Auto calculate on page load WITHOUT auto-scroll
    calculateAndDisplay(false);
    
    // Add enter key support - scroll when user presses enter
    document.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        calculateAndDisplay(true);
      }
    });
  </script>
</body>
</html>
