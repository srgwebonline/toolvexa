<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Cropper - Free Online Image Cropping Tool | Toolvexa</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online image cropper tool. Crop images to any size or shape including circle crops. Perfect for profile pictures, social media, and website optimization.">
    <meta name="keywords" content="image cropper, crop images online, circle crop tool, photo cropper, crop pictures, image editing, crop tool, profile picture cropper">
    <meta name="author" content="Toolvexa">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Image Cropper - Free Online Image Cropping Tool | Toolvexa">
    <meta property="og:description" content="Free online image cropper tool. Crop images to any size or shape including circle crops. Perfect for profile pictures, social media, and website optimization.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toolvexa.com/image-cropper">
    <meta property="og:image" content="https://toolvexa.com/images/image-cropper-og.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://toolvexa.com/image-cropper">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Image Cropper Tool",
        "url": "https://toolvexa.com/image-cropper",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Any",
        "description": "Free online tool to crop images in various shapes including circles, rectangles, and squares",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "Toolvexa",
            "url": "https://toolvexa.com"
        }
    }
    </script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --primary-light: #e6f0ff;
            --secondary: #7209b7;
            --success: #2ec4b6;
            --danger: #e63946;
            --warning: #ff9e00;
            --light: #f8f9fa;
            --dark: #212529;
            --border: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            --radius: 12px;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation Bar */
        .tool-navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 15px 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            border-bottom: 3px solid #4361ee;
        }
        
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: #4361ee;
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .nav-brand i {
            font-size: 1.8rem;
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
            list-style: none;
        }
        
        .nav-links a {
            color: #333;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover {
            background: #4361ee;
            color: white;
        }
        
        .back-to-home {
            background: #4361ee;
            color: white !important;
            padding: 8px 20px !important;
            border-radius: 25px;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #333;
            cursor: pointer;
        }
        
        /* Adjust body padding for fixed navbar */
        body {
            padding-top: 80px;
        }

        /* Breadcrumb */
        .breadcrumb {
            margin: 20px 0 30px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .breadcrumb a {
            color: #4361ee;
            text-decoration: none;
        }
        
        .breadcrumb span {
            margin: 0 5px;
        }

        /* Tool Header */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 20px;
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 5px 20px var(--shadow);
        }

        .logo {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        header h1 {
            color: var(--primary);
            font-size: 2.8rem;
            margin-bottom: 15px;
            font-weight: 800;
        }

        header p {
            color: #666;
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 20px;
        }

        .features {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
            color: var(--dark);
            background: var(--light);
            padding: 8px 15px;
            border-radius: 50px;
        }

        .feature i {
            color: var(--success);
        }

        /* Main Tool Layout */
        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* Sidebar Controls */
        .controls-section {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: 0 5px 20px var(--shadow);
            height: fit-content;
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-group h3 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.3rem;
        }

        /* Upload Area (Now at top) */
        .upload-container {
            max-width: 800px;
            margin: 30px auto;
        }

        .upload-area {
            border: 3px dashed var(--primary);
            border-radius: var(--radius);
            padding: 50px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--primary-light);
        }

        .upload-area:hover {
            background: #d7e6ff;
            transform: translateY(-2px);
        }

        .upload-area.drag-over {
            background: #c2d8ff;
            border-color: var(--secondary);
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .upload-area h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.5rem;
        }

        .upload-area p {
            color: #666;
            margin-bottom: 20px;
        }

        .browse-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .browse-btn:hover {
            background: #3a56d4;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }

        input[type="file"] {
            display: none;
        }

        /* Crop Shapes */
        .crop-shapes {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 25px;
        }

        .shape-btn {
            padding: 12px 5px;
            background: var(--light);
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .shape-btn i {
            font-size: 1.2rem;
            color: var(--primary);
        }

        .shape-btn:hover {
            background: #e9ecef;
            border-color: var(--primary);
        }

        .shape-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .shape-btn.active i {
            color: white;
        }

        /* Aspect Ratios */
        .aspect-ratios {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 25px;
        }

        .ratio-btn {
            padding: 10px;
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            text-align: center;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .ratio-btn:hover {
            background: #e9ecef;
        }

        .ratio-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Size Controls */
        .size-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .size-input {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .size-input label {
            font-weight: 600;
            color: var(--dark);
            font-size: 0.9rem;
        }

        .size-input input {
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 1rem;
        }

        .size-input input:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .action-btn {
            flex: 1;
            min-width: 120px;
            padding: 16px 20px;
            border: none;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .action-btn i {
            font-size: 1.2rem;
        }

        .crop-btn {
            background: var(--primary);
            color: white;
        }

        .crop-btn:hover {
            background: #3a56d4;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }

        .download-btn {
            background: var(--success);
            color: white;
        }

        .download-btn:hover {
            background: #27b0a3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 196, 182, 0.3);
        }

        .reset-btn {
            background: var(--danger);
            color: white;
        }

        .reset-btn:hover {
            background: #d32f3a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(230, 57, 70, 0.3);
        }

        /* Preview Section */
        .preview-section {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: 0 5px 20px var(--shadow);
        }

        .preview-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* Crop Area */
        .crop-area {
            position: relative;
            min-height: 400px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
            background: #f8f9fa;
            display: none;
        }

        #cropCanvas {
            position: absolute;
            top: 0;
            left: 0;
            cursor: move;
        }

        .crop-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .crop-selection {
            position: absolute;
            border: 2px dashed white;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
            cursor: move;
            resize: both;
            overflow: auto;
        }

        .circle-crop {
            border-radius: 50%;
            border: 2px solid white;
        }

        .crop-handle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border: 2px solid var(--primary);
            border-radius: 50%;
        }

        .handle-nw { top: -5px; left: -5px; cursor: nw-resize; }
        .handle-ne { top: -5px; right: -5px; cursor: ne-resize; }
        .handle-sw { bottom: -5px; left: -5px; cursor: sw-resize; }
        .handle-se { bottom: -5px; right: -5px; cursor: se-resize; }

        /* Preview Results */
        .preview-results {
            display: none;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .preview-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .preview-card h3 {
            padding: 20px;
            color: var(--primary);
            background: var(--primary-light);
            margin: 0;
        }

        .preview-image {
            width: 100%;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            padding: 20px;
        }

        .preview-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        /* FAQ Section */
        .faq-section {
            margin: 60px 0 40px;
        }

        .faq-section h2 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .faq-container {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: 0 5px 20px var(--shadow);
        }

        .faq-item {
            border-bottom: 1px solid var(--border);
            padding: 20px 0;
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            color: var(--dark);
            font-size: 1.1rem;
            font-weight: 600;
        }

        .faq-question i {
            color: var(--primary);
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            color: #666;
            line-height: 1.6;
            padding-right: 40px;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            margin-top: 15px;
        }

        /* Related Tools Section */
        .related-tools-section {
            margin: 60px 0 40px;
        }

        .related-tools-section h2 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }

        .tool-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px var(--shadow);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(67, 97, 238, 0.15);
        }

        .tool-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .tool-card h3 {
            color: var(--dark);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .tool-card p {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .tool-link {
            display: inline-block;
            background: var(--primary-light);
            color: var(--primary);
            padding: 10px 20px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tool-link:hover {
            background: var(--primary);
            color: white;
        }

        /* SEO Pages Styles */
        .seo-section {
            max-width: 1000px;
            margin: 40px auto;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            display: none;
            position: relative;
        }
        
        .seo-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .seo-section h1 {
            color: #4361ee;
            margin-bottom: 20px;
            font-size: 2.2rem;
        }
        
        .seo-section h2 {
            color: #333;
            margin: 25px 0 15px;
            font-size: 1.5rem;
        }
        
        .seo-section h3 {
            color: #555;
            margin: 20px 0 10px;
            font-size: 1.2rem;
        }
        
        .seo-content {
            line-height: 1.8;
            color: #444;
        }
        
        .seo-content p {
            margin-bottom: 15px;
        }
        
        .seo-content ul, .seo-content ol {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        
        .seo-content li {
            margin-bottom: 10px;
        }
        
        .close-seo {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #4361ee;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            z-index: 10;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px 20px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
            background: white;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .footer-links a {
            color: #4361ee;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--secondary);
            text-decoration: underline;
        }

        .copyright {
            margin-top: 20px;
            color: #888;
        }

        /* Loading Spinner */
        .loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: white;
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-container {
                flex-wrap: wrap;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .action-btn {
                min-width: 100%;
            }
            
            .crop-shapes, .aspect-ratios {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .preview-results {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .size-controls {
                grid-template-columns: 1fr;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .seo-section {
                padding: 20px;
                margin: 20px;
            }
            
            .faq-container {
                padding: 20px;
            }
            
            .faq-answer {
                padding-right: 20px;
            }
            
            .upload-container {
                margin: 20px auto;
            }
            
            .upload-area {
                padding: 30px 20px;
            }
            
            .upload-icon {
                font-size: 3rem;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="tool-navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <i class="fas fa-tools"></i> Toolvexa
            </a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html#home">Home</a></li>
                <li><a href="index.html#tools">All Tools</a></li>
                <li><a href="index.html#image-tools">Image Tools</a></li>
                <li><a href="#privacy-policy" onclick="showSeoPage('privacy')">Privacy Policy</a></li>
                <li><a href="#terms-of-service" onclick="showSeoPage('terms')">Terms of Service</a></li>
                <li><a href="#about-tool" onclick="showSeoPage('about')">About This Tool</a></li>
                <li><a href="index.html" class="back-to-home">Back to Home</a></li>
            </ul>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="container">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="index.html">Home</a> 
            <span>></span>
            <a href="index.html#image-tools">Image Tools</a>
            <span>></span>
            <span>Image Cropper</span>
        </div>

        <!-- Tool Header -->
        <header>
            <div class="logo">
                <i class="fas fa-crop-alt"></i>
            </div>
            <h1>Image Cropper</h1>
            <p>Crop images to any size or shape including circles, squares, and custom ratios. Perfect for profile pictures, social media, and website optimization. 100% secure - all processing happens in your browser.</p>
            <div class="features">
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <span>Secure & Private</span>
                </div>
                <div class="feature">
                    <i class="fas fa-bolt"></i>
                    <span>Fast Processing</span>
                </div>
                <div class="feature">
                    <i class="fas fa-circle"></i>
                    <span>Circle Crop</span>
                </div>
                <div class="feature">
                    <i class="fas fa-desktop"></i>
                    <span>No Uploads Required</span>
                </div>
            </div>
        </header>

        <!-- Upload Area - Now placed below the page title -->
        <div class="upload-container">
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <h3>Drag & Drop Image Here</h3>
                <p>or click the button below to select an image</p>
                <button class="browse-btn" id="browseBtn">
                    <i class="fas fa-folder-open"></i> Browse Image
                </button>
                <p style="margin-top: 15px; font-size: 0.9rem; color: #888;">
                    Supports JPG, PNG, GIF, WebP
                </p>
                <input type="file" id="fileInput" accept="image/*">
            </div>
        </div>

        <!-- Main Tool Section -->
        <div class="main-content">
            <!-- Controls Section -->
            <div class="controls-section">
                <div class="control-group">
                    <h3>Crop Shape</h3>
                    <div class="crop-shapes">
                        <button class="shape-btn active" data-shape="rectangle">
                            <i class="fas fa-square"></i>
                            <span>Rectangle</span>
                        </button>
                        <button class="shape-btn" data-shape="square">
                            <i class="fas fa-th-large"></i>
                            <span>Square</span>
                        </button>
                        <button class="shape-btn" data-shape="circle">
                            <i class="fas fa-circle"></i>
                            <span>Circle</span>
                        </button>
                        <button class="shape-btn" data-shape="free">
                            <i class="fas fa-vector-square"></i>
                            <span>Free Form</span>
                        </button>
                    </div>
                </div>

                <div class="control-group">
                    <h3>Aspect Ratio</h3>
                    <div class="aspect-ratios">
                        <button class="ratio-btn active" data-ratio="free">Free</button>
                        <button class="ratio-btn" data-ratio="1:1">1:1</button>
                        <button class="ratio-btn" data-ratio="4:3">4:3</button>
                        <button class="ratio-btn" data-ratio="16:9">16:9</button>
                        <button class="ratio-btn" data-ratio="3:2">3:2</button>
                        <button class="ratio-btn" data-ratio="2:3">2:3</button>
                        <button class="ratio-btn" data-ratio="9:16">9:16</button>
                        <button class="ratio-btn" data-ratio="custom">Custom</button>
                    </div>
                </div>

                <div class="control-group">
                    <h3>Custom Size</h3>
                    <div class="size-controls">
                        <div class="size-input">
                            <label for="widthInput">Width (px)</label>
                            <input type="number" id="widthInput" min="50" max="5000" value="400" placeholder="Width">
                        </div>
                        <div class="size-input">
                            <label for="heightInput">Height (px)</label>
                            <input type="number" id="heightInput" min="50" max="5000" value="300" placeholder="Height">
                        </div>
                    </div>
                    <div class="size-controls">
                        <div class="size-input">
                            <label for="xInput">X Position</label>
                            <input type="number" id="xInput" min="0" value="50" placeholder="X">
                        </div>
                        <div class="size-input">
                            <label for="yInput">Y Position</label>
                            <input type="number" id="yInput" min="0" value="50" placeholder="Y">
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn crop-btn" id="cropBtn">
                        <i class="fas fa-crop-alt"></i> Crop Image
                    </button>
                    <button class="action-btn download-btn" id="downloadBtn" disabled>
                        <i class="fas fa-download"></i> Download
                    </button>
                    <button class="action-btn reset-btn" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>

            <!-- Preview Section -->
            <div class="preview-section">
                <div class="preview-container">
                    <!-- Crop Area -->
                    <div class="crop-area" id="cropArea">
                        <canvas id="cropCanvas"></canvas>
                        <div class="crop-selection" id="cropSelection">
                            <div class="crop-handle handle-nw"></div>
                            <div class="crop-handle handle-ne"></div>
                            <div class="crop-handle handle-sw"></div>
                            <div class="crop-handle handle-se"></div>
                        </div>
                    </div>

                    <!-- Preview Results -->
                    <div class="preview-results" id="previewResults">
                        <div class="preview-card">
                            <h3>Original Image</h3>
                            <div class="preview-image">
                                <img id="originalPreview" src="" alt="Original">
                            </div>
                        </div>
                        <div class="preview-card">
                            <h3>Cropped Result</h3>
                            <div class="preview-image">
                                <img id="croppedPreview" src="" alt="Cropped">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Is the Image Cropper really free to use?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, our Image Cropper is 100% free with no hidden costs, watermarks, or limitations. You can crop as many images as you need without any restrictions.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How do I create a perfect circle crop?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Simply click the "Circle" shape button, then drag the selection area on your image. Hold Shift while dragging to maintain a perfect circle. You can also use the Square shape for perfect squares.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Are my images safe and private?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Absolutely! All image processing happens locally in your browser. Your images never leave your device or get uploaded to any server. This ensures complete privacy and security.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What image formats do you support?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>We support all popular image formats including JPG, PNG, GIF, WebP, BMP, and TIFF. The cropped images can be downloaded as PNG (for transparency) or JPG format.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Can I crop images for specific social media platforms?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! Use our aspect ratio presets: 1:1 for Instagram posts, 16:9 for YouTube thumbnails, 9:16 for Instagram Stories, and 4:5 for Facebook posts. You can also set custom dimensions.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Related Tools Section -->
        <div class="related-tools-section">
            <h2>Other Useful Image Tools</h2>
            <div class="tools-grid">
                <div class="tool-card">
                    <div class="tool-icon">
                        <i class="fas fa-compress-alt"></i>
                    </div>
                    <h3>Image Compressor</h3>
                    <p>Reduce image file size without losing quality. Optimize images for web, email, and storage.</p>
                    <a href="image-compressor.html" class="tool-link">Use Tool</a>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <h3>Image Converter</h3>
                    <p>Convert images between different formats like JPG, PNG, GIF, WebP, and more.</p>
                    <a href="image-converter.html" class="tool-link">Use Tool</a>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon">
                        <i class="fas fa-edit"></i>
                    </div>
                    <h3>Image Editor</h3>
                    <p>Edit and enhance your images with filters, adjustments, and drawing tools.</p>
                    <a href="image-editor.html" class="tool-link">Use Tool</a>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon">
                        <i class="fas fa-eraser"></i>
                    </div>
                    <h3>Background Remover</h3>
                    <p>Remove backgrounds from images instantly. Create transparent PNGs for logos and product photos.</p>
                    <a href="image-background-remover.html" class="tool-link">Use Tool</a>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon">
                        <i class="fas fa-expand-alt"></i>
                    </div>
                    <h3>Image Resizer</h3>
                    <p>Resize images to specific dimensions or percentages. Maintain aspect ratio or customize.</p>
                    <a href="image-resizer.html" class="tool-link">Use Tool</a>
                </div>
                
                <div class="tool-card">
                    <div class="tool-icon">
                        <i class="fas fa-file-image"></i>
                    </div>
                    <h3>Image to Text (OCR)</h3>
                    <p>Extract text from images using advanced OCR technology. Convert screenshots to editable text.</p>
                    <a href="image-to-text.html" class="tool-link">Use Tool</a>
                </div>
            </div>
        </div>

        <!-- SEO Pages Section -->
        <div class="seo-section" id="privacy-policy">
            <button class="close-seo" onclick="hideSeoPage()">×</button>
            <h1>Privacy Policy</h1>
            <div class="seo-content">
                <p><strong>Last Updated: January 2024</strong></p>
                
                <h2>1. Introduction</h2>
                <p>Welcome to Toolvexa Image Cropper. Your privacy is critically important to us. This privacy policy document outlines the types of personal information that is received and collected by our tool and how it is used.</p>
                
                <h2>2. Information We Collect</h2>
                <h3>2.1 No Personal Data Collection</h3>
                <p>Our Image Cropper tool operates entirely in your browser. We do not:</p>
                <ul>
                    <li>Collect any personal information</li>
                    <li>Upload your images to our servers</li>
                    <li>Store any information about your usage</li>
                    <li>Use cookies for tracking purposes</li>
                </ul>
                
                <h3>2.2 Local Processing</h3>
                <p>All image cropping happens locally on your device using JavaScript. Your images never leave your computer or mobile device.</p>
                
                <h2>3. How We Use Information</h2>
                <p>Since we don't collect any personal data, there's no information to use or share. The tool functions completely offline once loaded in your browser.</p>
                
                <h2>4. Third-Party Services</h2>
                <p>We only use Font Awesome for icons and Google Fonts for typography. These services may collect limited data as per their own privacy policies.</p>
                
                <h2>5. Security</h2>
                <p>Your security is guaranteed because:</p>
                <ul>
                    <li>No data transmission occurs</li>
                    <li>All processing is done client-side</li>
                    <li>No server-side storage exists</li>
                </ul>
                
                <h2>6. Changes to This Policy</h2>
                <p>We may update this privacy policy from time to time. We will notify you of any changes by posting the new privacy policy on this page.</p>
                
                <h2>7. Contact Us</h2>
                <p>If you have any questions about this Privacy Policy, please contact us at: privacy@toolvexa.com</p>
            </div>
        </div>

        <div class="seo-section" id="terms-of-service">
            <button class="close-seo" onclick="hideSeoPage()">×</button>
            <h1>Terms of Service</h1>
            <div class="seo-content">
                <p><strong>Last Updated: January 2024</strong></p>
                
                <h2>1. Acceptance of Terms</h2>
                <p>By accessing and using the Toolvexa Image Cropper tool, you accept and agree to be bound by the terms and provision of this agreement.</p>
                
                <h2>2. Description of Service</h2>
                <p>Toolvexa Image Cropper provides a free online tool for cropping and editing image files. The service includes:</p>
                <ul>
                    <li>Image cropping in various shapes (rectangle, square, circle)</li>
                    <li>Aspect ratio presets for social media</li>
                    <li>Custom dimension cropping</li>
                    <li>Local processing (no server uploads)</li>
                    <li>Multiple format support</li>
                </ul>
                
                <h2>3. User Responsibilities</h2>
                <p>You agree to:</p>
                <ul>
                    <li>Use the tool only for lawful purposes</li>
                    <li>Not upload any malicious or harmful content</li>
                    <li>Respect copyright and intellectual property rights</li>
                    <li>Not attempt to reverse engineer or hack the tool</li>
                </ul>
                
                <h2>4. Service Limitations</h2>
                <p>The service is provided "as is" without warranties of any kind. We do not guarantee:</p>
                <ul>
                    <li>Uninterrupted service availability</li>
                    <li>Specific cropping results</li>
                    <li>Compatibility with all browsers or devices</li>
                    <li>Image quality preservation in all cases</li>
                </ul>
                
                <h2>5. Intellectual Property</h2>
                <p>All images you upload remain your property. We do not claim any rights over your original or cropped images.</p>
                
                <h2>6. Limitation of Liability</h2>
                <p>Toolvexa shall not be liable for any indirect, incidental, special, consequential or punitive damages resulting from your use of the tool.</p>
                
                <h2>7. Changes to Terms</h2>
                <p>We reserve the right to modify these terms at any time. Continued use of the tool constitutes acceptance of modified terms.</p>
                
                <h2>8. Contact Information</h2>
                <p>For any questions regarding these Terms of Service, please contact: legal@toolvexa.com</p>
            </div>
        </div>

        <div class="seo-section" id="about-tool">
            <button class="close-seo" onclick="hideSeoPage()">×</button>
            <h1>About Image Cropper Tool</h1>
            <div class="seo-content">
                <h2>What is Toolvexa Image Cropper?</h2>
                <p>Toolvexa Image Cropper is a free online tool that helps you crop images to perfect sizes and shapes. It's ideal for creating profile pictures, social media posts, website banners, and any other image cropping needs.</p>
                
                <h2>Key Features</h2>
                <ul>
                    <li><strong>Multiple Crop Shapes:</strong> Rectangle, square, circle, and free-form cropping</li>
                    <li><strong>Aspect Ratio Presets:</strong> Pre-defined ratios for social media platforms</li>
                    <li><strong>Circle Crop Function:</strong> Create perfect circular images for profiles</li>
                    <li><strong>Custom Dimensions:</strong> Set exact pixel dimensions for your crops</li>
                    <li><strong>Real-time Preview:</strong> See results before downloading</li>
                    <li><strong>Privacy Guaranteed:</strong> All processing happens in your browser</li>
                </ul>
                
                <h2>How to Use Circle Crop Effectively</h2>
                <p>Our circle crop feature is perfect for:</p>
                <ol>
                    <li><strong>Profile Pictures:</strong> Create circular avatars for websites and social media</li>
                    <li><strong>Product Photos:</strong> Highlight products with clean circular frames</li>
                    <li><strong>Logos:</strong> Convert square logos to circular versions</li>
                    <li><strong>Social Media:</strong> Create engaging circular content for platforms</li>
                </ol>
                
                <p><strong>Pro Tip:</strong> For best results with circle crops, position your subject in the center of the selection area. The circle crop will create a transparent background around the circular area, making it perfect for overlay on any background.</p>
                
                <h2>Use Cases</h2>
                <ul>
                    <li><strong>Social Media Profile Pictures:</strong> Create perfect circular avatars</li>
                    <li><strong>Website Graphics:</strong> Crop images for website design elements</li>
                    <li><strong>E-commerce:</strong> Prepare product images with consistent cropping</li>
                    <li><strong>Marketing Materials:</strong> Create visually appealing graphics</li>
                    <li><strong>Personal Projects:</strong> Edit photos for personal use</li>
                </ul>
                
                <h2>Technical Information</h2>
                <p>The tool uses HTML5 Canvas API for image manipulation and implements advanced cropping algorithms including:</p>
                <ul>
                    <li>Canvas-based image rendering</li>
                    <li>Mathematical calculations for perfect circles</li>
                    <li>Transparency support for PNG outputs</li>
                    <li>Responsive design for all screen sizes</li>
                </ul>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <div class="footer-links">
                <a href="#privacy-policy" onclick="showSeoPage('privacy')">Privacy Policy</a>
                <a href="#terms-of-service" onclick="showSeoPage('terms')">Terms of Service</a>
                <a href="#about-tool" onclick="showSeoPage('about')">About This Tool</a>
                <a href="index.html">All Tools</a>
                <a href="index.html#image-tools">Image Tools</a>
                <a href="index.html#contact">Contact Us</a>
            </div>
            <div class="copyright">
                <p>© 2024 Image Cropper Tool | Toolvexa | All image processing happens locally in your browser. No data is uploaded to any server.</p>
                <p style="margin-top: 10px;">Made with <i class="fas fa-heart" style="color: #e63946;"></i> for everyone</p>
            </div>
        </footer>
    </div>

    <script>
        // Navigation functionality
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        
        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!navLinks.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                navLinks.classList.remove('active');
            }
        });
        
        // SEO pages functionality
        function showSeoPage(page) {
            // Hide all seo sections first
            document.querySelectorAll('.seo-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show the requested section
            let sectionId = '';
            switch(page) {
                case 'privacy':
                    sectionId = 'privacy-policy';
                    break;
                case 'terms':
                    sectionId = 'terms-of-service';
                    break;
                case 'about':
                    sectionId = 'about-tool';
                    break;
            }
            
            document.getElementById(sectionId).classList.add('active');
            
            // Close mobile menu if open
            navLinks.classList.remove('active');
            
            // Scroll to the section
            setTimeout(() => {
                document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }
        
        function hideSeoPage() {
            document.querySelectorAll('.seo-section').forEach(section => {
                section.classList.remove('active');
            });
        }
        
        // Close SEO section when clicking outside
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('seo-section')) {
                hideSeoPage();
            }
        });

        // FAQ functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const item = question.parentElement;
                item.classList.toggle('active');
            });
        });

        // Image Cropper Tool JavaScript
        const uploadArea = document.getElementById('uploadArea');
        const browseBtn = document.getElementById('browseBtn');
        const fileInput = document.getElementById('fileInput');
        const cropArea = document.getElementById('cropArea');
        const cropCanvas = document.getElementById('cropCanvas');
        const cropSelection = document.getElementById('cropSelection');
        const previewResults = document.getElementById('previewResults');
        const originalPreview = document.getElementById('originalPreview');
        const croppedPreview = document.getElementById('croppedPreview');
        
        // Control elements
        const shapeButtons = document.querySelectorAll('.shape-btn');
        const ratioButtons = document.querySelectorAll('.ratio-btn');
        const widthInput = document.getElementById('widthInput');
        const heightInput = document.getElementById('heightInput');
        const xInput = document.getElementById('xInput');
        const yInput = document.getElementById('yInput');
        
        // Action buttons
        const cropBtn = document.getElementById('cropBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const resetBtn = document.getElementById('resetBtn');
        
        // State variables
        let currentImage = null;
        let ctx = null;
        let isDragging = false;
        let isResizing = false;
        let dragStartX = 0;
        let dragStartY = 0;
        let selectionStartX = 0;
        let selectionStartY = 0;
        let currentShape = 'rectangle';
        let currentRatio = 'free';
        let originalImageData = null;
        
        // Initialize canvas context
        function initCanvas() {
            ctx = cropCanvas.getContext('2d');
            cropCanvas.width = cropArea.clientWidth;
            cropCanvas.height = cropArea.clientHeight;
        }
        
        // Event Listeners
        browseBtn.addEventListener('click', () => fileInput.click());
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('drag-over');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
            if (e.dataTransfer.files.length > 0) {
                handleImage(e.dataTransfer.files[0]);
            }
        });
        
        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleImage(e.target.files[0]);
            }
        });
        
        // Shape buttons
        shapeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                shapeButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentShape = btn.getAttribute('data-shape');
                updateCropSelection();
            });
        });
        
        // Ratio buttons
        ratioButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                ratioButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentRatio = btn.getAttribute('data-ratio');
                applyAspectRatio();
            });
        });
        
        // Size inputs
        [widthInput, heightInput, xInput, yInput].forEach(input => {
            input.addEventListener('input', () => {
                updateCropSelectionFromInputs();
            });
        });
        
        // Action buttons
        cropBtn.addEventListener('click', cropImage);
        downloadBtn.addEventListener('click', downloadImage);
        resetBtn.addEventListener('click', resetTool);
        
        // Crop selection interactions
        cropSelection.addEventListener('mousedown', startDrag);
        cropSelection.addEventListener('touchstart', startDragTouch);
        
        // Add resize handles
        const handles = cropSelection.querySelectorAll('.crop-handle');
        handles.forEach(handle => {
            handle.addEventListener('mousedown', startResize);
            handle.addEventListener('touchstart', startResizeTouch);
        });
        
        // Functions
        function handleImage(file) {
            if (!file.type.match('image.*')) {
                alert('Please select an image file.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = (e) => {
                currentImage = new Image();
                currentImage.onload = () => {
                    // Hide upload area and show crop area
                    uploadArea.style.display = 'none';
                    cropArea.style.display = 'block';
                    previewResults.style.display = 'none';
                    
                    // Initialize canvas
                    initCanvas();
                    
                    // Draw image on canvas
                    drawImageOnCanvas();
                    
                    // Initialize crop selection
                    initCropSelection();
                    
                    // Show original preview
                    originalPreview.src = e.target.result;
                    originalImageData = e.target.result;
                    
                    // Enable crop button
                    cropBtn.disabled = false;
                    downloadBtn.disabled = true;
                };
                currentImage.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
        
        function drawImageOnCanvas() {
            if (!currentImage || !ctx) return;
            
            // Clear canvas
            ctx.clearRect(0, 0, cropCanvas.width, cropCanvas.height);
            
            // Calculate scaling to fit canvas
            const scale = Math.min(
                cropCanvas.width / currentImage.width,
                cropCanvas.height / currentImage.height
            );
            
            const width = currentImage.width * scale;
            const height = currentImage.height * scale;
            const x = (cropCanvas.width - width) / 2;
            const y = (cropCanvas.height - height) / 2;
            
            // Draw image
            ctx.drawImage(currentImage, x, y, width, height);
            
            // Store scaling info
            cropCanvas.scale = scale;
            cropCanvas.offsetX = x;
            cropCanvas.offsetY = y;
        }
        
        function initCropSelection() {
            const initialSize = 200;
            const x = (cropCanvas.width - initialSize) / 2;
            const y = (cropCanvas.height - initialSize) / 2;
            
            updateSelectionStyle(x, y, initialSize, initialSize);
            updateInputsFromSelection();
        }
        
        function updateSelectionStyle(x, y, width, height) {
            cropSelection.style.left = x + 'px';
            cropSelection.style.top = y + 'px';
            cropSelection.style.width = width + 'px';
            cropSelection.style.height = height + 'px';
            
            // Update shape
            if (currentShape === 'circle') {
                cropSelection.classList.add('circle-crop');
                cropSelection.style.borderRadius = '50%';
            } else {
                cropSelection.classList.remove('circle-crop');
                cropSelection.style.borderRadius = '0';
            }
            
            // Update aspect ratio if needed
            if (currentRatio !== 'free') {
                applyAspectRatio();
            }
        }
        
        function updateInputsFromSelection() {
            const rect = cropSelection.getBoundingClientRect();
            const containerRect = cropArea.getBoundingClientRect();
            
            const x = rect.left - containerRect.left;
            const y = rect.top - containerRect.top;
            const width = rect.width;
            const height = rect.height;
            
            xInput.value = Math.round(x);
            yInput.value = Math.round(y);
            widthInput.value = Math.round(width);
            heightInput.value = Math.round(height);
        }
        
        function updateCropSelectionFromInputs() {
            const x = parseInt(xInput.value) || 0;
            const y = parseInt(yInput.value) || 0;
            const width = parseInt(widthInput.value) || 100;
            const height = parseInt(heightInput.value) || 100;
            
            updateSelectionStyle(x, y, width, height);
        }
        
        function applyAspectRatio() {
            if (currentRatio === 'free' || currentRatio === 'custom') return;
            
            const [ratioW, ratioH] = currentRatio.split(':').map(Number);
            const currentWidth = parseInt(cropSelection.style.width) || 100;
            const newHeight = (currentWidth * ratioH) / ratioW;
            
            cropSelection.style.height = newHeight + 'px';
            updateInputsFromSelection();
        }
        
        function startDrag(e) {
            e.preventDefault();
            isDragging = true;
            dragStartX = e.clientX - cropSelection.offsetLeft;
            dragStartY = e.clientY - cropSelection.offsetTop;
            
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
        }
        
        function startDragTouch(e) {
            e.preventDefault();
            isDragging = true;
            const touch = e.touches[0];
            dragStartX = touch.clientX - cropSelection.offsetLeft;
            dragStartY = touch.clientY - cropSelection.offsetTop;
            
            document.addEventListener('touchmove', dragTouch);
            document.addEventListener('touchend', stopDrag);
        }
        
        function drag(e) {
            if (!isDragging) return;
            
            const x = e.clientX - dragStartX;
            const y = e.clientY - dragStartY;
            
            // Keep within bounds
            const maxX = cropArea.clientWidth - cropSelection.offsetWidth;
            const maxY = cropArea.clientHeight - cropSelection.offsetHeight;
            
            cropSelection.style.left = Math.max(0, Math.min(x, maxX)) + 'px';
            cropSelection.style.top = Math.max(0, Math.min(y, maxY)) + 'px';
            
            updateInputsFromSelection();
        }
        
        function dragTouch(e) {
            if (!isDragging) return;
            const touch = e.touches[0];
            
            const x = touch.clientX - dragStartX;
            const y = touch.clientY - dragStartY;
            
            // Keep within bounds
            const maxX = cropArea.clientWidth - cropSelection.offsetWidth;
            const maxY = cropArea.clientHeight - cropSelection.offsetHeight;
            
            cropSelection.style.left = Math.max(0, Math.min(x, maxX)) + 'px';
            cropSelection.style.top = Math.max(0, Math.min(y, maxY)) + 'px';
            
            updateInputsFromSelection();
        }
        
        function stopDrag() {
            isDragging = false;
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('touchmove', dragTouch);
            document.removeEventListener('mouseup', stopDrag);
            document.removeEventListener('touchend', stopDrag);
        }
        
        function startResize(e) {
            e.preventDefault();
            e.stopPropagation();
            isResizing = true;
            selectionStartX = cropSelection.offsetLeft;
            selectionStartY = cropSelection.offsetTop;
            selectionStartWidth = cropSelection.offsetWidth;
            selectionStartHeight = cropSelection.offsetHeight;
            
            document.addEventListener('mousemove', resize);
            document.addEventListener('mouseup', stopResize);
        }
        
        function startResizeTouch(e) {
            e.preventDefault();
            e.stopPropagation();
            isResizing = true;
            const touch = e.touches[0];
            selectionStartX = cropSelection.offsetLeft;
            selectionStartY = cropSelection.offsetTop;
            selectionStartWidth = cropSelection.offsetWidth;
            selectionStartHeight = cropSelection.offsetHeight;
            
            document.addEventListener('touchmove', resizeTouch);
            document.addEventListener('touchend', stopResize);
        }
        
        function resize(e) {
            if (!isResizing) return;
            
            const deltaX = e.clientX - (selectionStartX + selectionStartWidth);
            const deltaY = e.clientY - (selectionStartY + selectionStartHeight);
            
            const newWidth = Math.max(50, selectionStartWidth + deltaX);
            const newHeight = Math.max(50, selectionStartHeight + deltaY);
            
            if (currentRatio !== 'free') {
                const [ratioW, ratioH] = currentRatio.split(':').map(Number);
                const constrainedHeight = (newWidth * ratioH) / ratioW;
                cropSelection.style.width = newWidth + 'px';
                cropSelection.style.height = constrainedHeight + 'px';
            } else {
                cropSelection.style.width = newWidth + 'px';
                cropSelection.style.height = newHeight + 'px';
            }
            
            updateInputsFromSelection();
        }
        
        function resizeTouch(e) {
            if (!isResizing) return;
            const touch = e.touches[0];
            
            const deltaX = touch.clientX - (selectionStartX + selectionStartWidth);
            const deltaY = touch.clientY - (selectionStartY + selectionStartHeight);
            
            const newWidth = Math.max(50, selectionStartWidth + deltaX);
            const newHeight = Math.max(50, selectionStartHeight + deltaY);
            
            if (currentRatio !== 'free') {
                const [ratioW, ratioH] = currentRatio.split(':').map(Number);
                const constrainedHeight = (newWidth * ratioH) / ratioW;
                cropSelection.style.width = newWidth + 'px';
                cropSelection.style.height = constrainedHeight + 'px';
            } else {
                cropSelection.style.width = newWidth + 'px';
                cropSelection.style.height = newHeight + 'px';
            }
            
            updateInputsFromSelection();
        }
        
        function stopResize() {
            isResizing = false;
            document.removeEventListener('mousemove', resize);
            document.removeEventListener('touchmove', resizeTouch);
            document.removeEventListener('mouseup', stopResize);
            document.removeEventListener('touchend', stopResize);
        }
        
        function cropImage() {
            if (!currentImage) return;
            
            // Get crop coordinates relative to canvas
            const rect = cropSelection.getBoundingClientRect();
            const containerRect = cropArea.getBoundingClientRect();
            
            const x = rect.left - containerRect.left - cropCanvas.offsetX;
            const y = rect.top - containerRect.top - cropCanvas.offsetY;
            const width = rect.width;
            const height = rect.height;
            
            // Scale coordinates back to original image size
            const scale = 1 / cropCanvas.scale;
            const originalX = x * scale;
            const originalY = y * scale;
            const originalWidth = width * scale;
            const originalHeight = height * scale;
            
            // Create temporary canvas for cropping
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            
            // Set canvas size based on crop shape
            if (currentShape === 'circle') {
                // For circle crop, we need to create a circular mask
                tempCanvas.width = originalWidth;
                tempCanvas.height = originalHeight;
                
                // Create circular clipping path
                tempCtx.beginPath();
                tempCtx.arc(originalWidth / 2, originalHeight / 2, Math.min(originalWidth, originalHeight) / 2, 0, Math.PI * 2);
                tempCtx.closePath();
                tempCtx.clip();
                
                // Draw the cropped portion
                tempCtx.drawImage(
                    currentImage,
                    originalX, originalY, originalWidth, originalHeight,
                    0, 0, originalWidth, originalHeight
                );
            } else {
                // For rectangle/square crops
                tempCanvas.width = originalWidth;
                tempCanvas.height = originalHeight;
                
                tempCtx.drawImage(
                    currentImage,
                    originalX, originalY, originalWidth, originalHeight,
                    0, 0, originalWidth, originalHeight
                );
            }
            
            // Show preview
            croppedPreview.src = tempCanvas.toDataURL('image/png');
            previewResults.style.display = 'grid';
            
            // Enable download button
            downloadBtn.disabled = false;
            
            // Scroll to results
            setTimeout(() => {
                previewResults.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }
        
        function downloadImage() {
            if (!croppedPreview.src) return;
            
            const link = document.createElement('a');
            link.href = croppedPreview.src;
            link.download = `cropped-${currentShape}-${Date.now()}.png`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function resetTool() {
            // Reset all state
            currentImage = null;
            uploadArea.style.display = 'block';
            cropArea.style.display = 'none';
            previewResults.style.display = 'none';
            
            // Reset inputs
            widthInput.value = 400;
            heightInput.value = 300;
            xInput.value = 50;
            yInput.value = 50;
            
            // Reset buttons
            shapeButtons.forEach(b => b.classList.remove('active'));
            shapeButtons[0].classList.add('active');
            currentShape = 'rectangle';
            
            ratioButtons.forEach(b => b.classList.remove('active'));
            ratioButtons[0].classList.add('active');
            currentRatio = 'free';
            
            cropBtn.disabled = true;
            downloadBtn.disabled = true;
            
            // Reset file input
            fileInput.value = '';
        }
        
        // Initialize
        initCanvas();
        resetTool();
        
        // Make functions globally available for event handlers
        window.showSeoPage = showSeoPage;
        window.hideSeoPage = hideSeoPage;
        
        // Update crop selection when inputs change
        function updateCropSelection() {
            updateCropSelectionFromInputs();
        }
        
        window.updateCropSelection = updateCropSelection;
    </script>
</body>
</html>
